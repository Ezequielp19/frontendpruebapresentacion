version: 1
frontend:
  phases:
    preBuild:
      commands:
        - nvm install 18 || true
        - nvm use 18
        - if [ -f package-lock.json ]; then npm ci; else npm i; fi
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: dist/like-vendor
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*